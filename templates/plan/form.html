<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>旅行条件入力</title>
  <!-- ✅ Tailwind + DaisyUI CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background-color: #F6F5F3;
      color: #2C3E50;
      font-family: "Noto Sans JP", sans-serif;
    }
    
  </style>
</head>

<!--
追加で入れる項目
ユーザーの性格と同行者の性格が同じであることを前提とする

1:誰と行くか、恋人、親戚、友達、両親

2:ユーザー側の性格はバックエンドで入れる。旅行を一緒に行く人はみんな同じ人であることを前提としておくそれ以外の特徴量は性格診断の結果のそれぞれの結果から持ってくる
-->

<body class="bg-baseBg text-textMain font-['Noto Sans JP'] p-8 pb-28">

  <h1 class="text-2xl font-semibold text-[#31405F] mb-6">
    旅行条件（{{ username }} / MBTI: {{ mbti }}）
  </h1>

  <form method="post" action="{{ url_for('plan.plan') }}" id="plan-form" class="space-y-8">

    <fieldset class="bg-white border-2 border-[#EFD8C0] rounded-xl p-6 shadow-md">
      <legend class="text-[#4F8C8C] font-bold">基本情報</legend>

      <div class="mt-4">
        <label class="block mb-1 font-medium">旅行名：</label>
        <input name="trip_name" required maxlength="64" placeholder="例：京都旅行"
          class="w-full rounded-lg border border-borderSoft bg-baseBg text-textMain text-sm p-2.5 
                 focus:ring-accent focus:border-accent focus:outline-none" />
      </div>

      <div class="mt-4 flex flex-col gap-3">
        <label class="font-medium">開始日：</label>
        <input type="date" name="start_date" required class="w-full rounded-lg border border-borderSoft bg-baseBg text-textMain text-sm p-2.5 
                 focus:ring-accent focus:border-accent focus:outline-none" />

        

      <div class="mt-4">
        <label class="font-medium">終了日：</label>
        <input type="date" name="end_date" required
          class="w-full rounded-lg border border-borderSoft bg-baseBg text-textMain text-sm p-2.5 
                 focus:ring-accent focus:border-accent focus:outline-none" />

      <div class="mt-4">
        <label class="font-medium">人数：</label>
        <input type="number" name="headcount" min="1" value="1" required
          class="w-full rounded-lg border border-borderSoft bg-baseBg text-textMain text-sm p-2.5 
                 focus:ring-accent focus:border-accent focus:outline-none" />
      </div>

      <div class="mt-4">
        <label class="font-medium">予算（円）：</label>
        <input type="number" name="budget" min="1000" step="1000" required
          class="w-full rounded-lg border border-borderSoft bg-baseBg text-textMain text-sm p-2.5 
                 focus:ring-accent focus:border-accent focus:outline-none" />
      </div>

      <div class="mt-4">
        <label class="font-medium">補足（任意）：</label>
        <input name="notes" placeholder="車NG / 辛い物NG など"
          class="w-full rounded-lg border border-borderSoft bg-baseBg text-textMain text-sm p-2.5 
                 focus:ring-accent focus:border-accent focus:outline-none" />
      </div>
    </fieldset>

    <fieldset class="bg-white border-2 border-[#EFD8C0] rounded-xl p-6 shadow-md">
      <legend class="text-[#4F8C8C] font-bold">行き先</legend>

      <div class="mt-3">
        <label class="block mb-1 font-medium">地域（必須）：</label>
        <select id="region-select" name="region" required
          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg 
                 focus:ring-[#4F8C8C] focus:border-[#4F8C8C] block w-full p-2.5">
          <option value="">読込中...</option>
        </select>
      </div>

      <div class="mt-3">
        <label class="block mb-1 font-medium">都道府県（任意）：</label>
        <select id="prefecture-select" name="prefecture"
          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg 
                 focus:ring-[#4F8C8C] focus:border-[#4F8C8C] block w-full p-2.5">
          <option value="">自動提案に任せる</option>
        </select>
        <span class="text-sm text-gray-500">未選択のままでOK（LLMが提案）</span>
      </div>

      <div class="mt-3">
        <label class="block mb-1 font-medium">市区町村（任意）：</label>
        <select id="city-select" name="city"
          class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg 
                 focus:ring-[#4F8C8C] focus:border-[#4F8C8C] block w-full p-2.5">
          <option value="">自動提案に任せる</option>
        </select>
        <span class="text-sm text-gray-500">未選択のままでOK（LLMが提案）</span>
      </div>
    </fieldset>

    <button type="submit"
      class="bg-[#4F8C8C] text-white font-semibold py-2 px-4 rounded-lg shadow hover:bg-[#3E7676] transition">
      決定
    </button>
  </form>

  <!-- ✅ 固定ナビゲーションバー -->
  <div class="dock fixed bottom-0 left-0 w-full bg-white border-t border-gray-300 shadow-inner flex justify-around py-2 z-50">
    <!-- Test -->
    <a href="{{ url_for('mbti.mbti_explanation') }}" 
       class="flex flex-col items-center {% if request.endpoint == 'mbti.mbti_explanation' %}text-teal-600 font-semibold{% else %}text-gray-700{% endif %} hover:text-teal-600 focus:outline-none">
      <svg class="w-5 h-5 {% if request.endpoint == 'mbti.mbti_explanation' %}text-teal-600{% endif %}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
        <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <circle cx="8" cy="6" r="1.5" fill="currentColor"/>
        <circle cx="8" cy="12" r="1.5" fill="currentColor"/>
        <circle cx="8" cy="18" r="1.5" fill="currentColor"/>
      </svg>
      <span class="text-xs mt-1">Test</span>
    </a>

    <!-- Time Line -->
    <a href="{{ url_for('plan.plan') }}" 
       class="flex flex-col items-center {% if request.endpoint == 'plan.plan' %}text-teal-600 font-semibold{% else %}text-gray-700{% endif %} hover:text-teal-600 focus:outline-none">
      <svg class="w-5 h-5 {% if request.endpoint == 'plan.plan' %}text-teal-600{% endif %}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
        <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
        <path d="M12 7v5l3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span class="text-xs mt-1">Time Line</span>
    </a>

    <!-- Home -->
    <a href="{{ url_for('home.home') }}" 
       class="flex flex-col items-center {% if request.endpoint == 'home.home' %}text-teal-600 font-semibold{% else %}text-gray-700{% endif %} hover:text-teal-600 focus:outline-none">
      <svg class="w-5 h-5 {% if request.endpoint == 'home.home' %}text-teal-600{% endif %}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
        <g stroke="currentColor" stroke-width="2">
          <polyline points="3 12 12 3 21 12" />
          <path d="M5 10v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V10" />
        </g>
      </svg>
      <span class="text-xs mt-1">Home</span>
    </a>

    <!-- My Travel -->
    <a href="{{ url_for('my_travel.my_travel') }}" 
       class="flex flex-col items-center {% if request.endpoint == 'my_travel.my_travel' %}text-teal-600 font-semibold{% else %}text-gray-700{% endif %} hover:text-teal-600">
      <svg class="w-5 h-5 {% if request.endpoint == 'my_travel.my_travel' %}text-teal-600{% endif %}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
        <rect x="6" y="7" width="12" height="13" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
        <path d="M9 7V5a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2" stroke="currentColor" stroke-width="2"/>
      </svg>
      <span class="text-xs mt-1">My Travel</span>
    </a>

    <!-- My Page -->
    <a href="{{ url_for('setting.setting') }}" 
       class="flex flex-col items-center {% if request.endpoint == 'setting.setting' %}text-teal-600 font-semibold{% else %}text-gray-700{% endif %} hover:text-teal-600">
      <svg class="w-5 h-5 {% if request.endpoint == 'setting.setting' %}text-teal-600{% endif %}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
        <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2"/>
        <path d="M4 21v-1a7 7 0 0 1 14 0v1" stroke="currentColor" stroke-width="2"/>
      </svg>
      <span class="text-xs mt-1">My Page</span>
    </a>
  </div>
  
  <script src="{{ url_for('static', filename='js/geo.js') }}"></script>
</body>
</html>